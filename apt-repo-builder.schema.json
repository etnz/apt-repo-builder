{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "apt-repo-builder Configuration",
  "type": "object",
  "properties": {
    "project": {
      "type": "object",
      "description": "Project configuration: Defines your repository identity and sources.",
      "properties": {
        "archive_info": {
          "type": "object",
          "description": "Metadata written to the 'Release' file.",
          "properties": {
            "origin": { "type": "string", "description": "The entity responsible for this repository (e.g., your organization)." },
            "label": { "type": "string", "description": "A short label for the repository." },
            "suite": { "type": "string", "description": "The release suite (e.g., stable, testing)." },
            "codename": { "type": "string", "description": "The release codename (e.g., stable, focal)." },
            "architectures": { "type": "string", "description": "Space-separated list of supported architectures (e.g., 'amd64 arm64')." },
            "components": { "type": "string", "description": "Space-separated list of repository components (usually 'main')." },
            "description": { "type": "string", "description": "A human-readable description of the repository." }
          },
          "required": ["origin", "label", "suite", "codename", "architectures", "components", "description"]
        },
        "sources": {
          "type": "array",
          "description": "List of GitHub repositories to scrape for .deb releases.",
          "items": {
            "type": "string",
            "description": "Format: github.com/<owner>/<repo>",
            "pattern": "^github\\.com\\/[^\\/]+\\/[^\\/]+$"
          }
        }
      },
      "required": ["archive_info"]
    },
    "upstream": {
      "type": "object",
      "description": "Upstream configuration: Defines external repositories for reference.",
      "properties": {
        "sources": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "url": { "type": "string", "description": "Base URL of the repository." },
              "suite": { "type": "string", "description": "Distribution suite (e.g., focal). Leave empty for flat repositories." },
              "component": { "type": "string", "description": "Repository component (e.g., main)." },
              "architectures": {
                "type": "array",
                "description": "List of architectures to index.",
                "items": { "type": "string" }
              }
            },
            "required": ["url"]
          }
        }
      }
    }
  },
  "required": ["project"]
}
